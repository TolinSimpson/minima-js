<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Reference - MinimaJS Documentation</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📖</text></svg>">
  <style>
    :root {
      --primary-color: #667eea;
      --secondary-color: #764ba2;
      --text-dark: #2d3748;
      --text-light: #4a5568;
      --bg-light: #f7fafc;
      --bg-white: #ffffff;
      --border-color: #e2e8f0;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: var(--text-dark);
      background: var(--bg-light);
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      color: white;
      padding: 2rem 0;
      margin-bottom: 2rem;
    }

    .breadcrumb {
      margin-bottom: 1rem;
      opacity: 0.8;
    }

    .breadcrumb a {
      color: white;
      text-decoration: none;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      height: 100vh;
      background: var(--bg-white);
      border-right: 1px solid var(--border-color);
      padding: 2rem 1rem;
      overflow-y: auto;
      z-index: 100;
    }

    .main-content {
      margin-left: 270px;
    }

    .sidebar h3 {
      color: var(--primary-color);
      font-size: 1rem;
      margin: 1.5rem 0 0.5rem 0;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .sidebar ul {
      list-style: none;
      margin-bottom: 1rem;
    }

    .sidebar li {
      margin-bottom: 0.5rem;
    }

    .sidebar a {
      color: var(--text-light);
      text-decoration: none;
      font-size: 0.9rem;
      padding: 0.25rem 0;
      display: block;
      transition: color 0.3s ease;
    }

    .sidebar a:hover,
    .sidebar a.active {
      color: var(--primary-color);
    }

    h1, h2, h3, h4 { 
      color: var(--text-dark); 
      margin-bottom: 1rem; 
    }

    h1 { font-size: 2.5rem; }
    h2 { 
      font-size: 2rem; 
      margin-top: 3rem; 
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--primary-color);
    }
    h3 { 
      font-size: 1.5rem; 
      margin-top: 2rem; 
      color: var(--primary-color);
    }
    h4 { 
      font-size: 1.2rem; 
      margin-top: 1.5rem;
      font-family: 'Monaco', 'Consolas', monospace;
      background: var(--bg-light);
      padding: 0.5rem;
      border-radius: 4px;
    }

    p { 
      margin-bottom: 1rem; 
      color: var(--text-light); 
    }

    .method {
      background: var(--bg-white);
      border-radius: 8px;
      padding: 2rem;
      margin: 2rem 0;
      box-shadow: var(--shadow);
      border-left: 4px solid var(--primary-color);
    }

    .signature {
      background: var(--text-dark);
      color: #e2e8f0;
      padding: 1rem;
      border-radius: 6px;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.9rem;
      margin: 1rem 0;
    }

    .parameters {
      margin: 1rem 0;
    }

    .parameters h5 {
      color: var(--text-dark);
      margin-bottom: 0.5rem;
      font-size: 1rem;
    }

    .param {
      background: var(--bg-light);
      padding: 0.75rem;
      margin: 0.5rem 0;
      border-radius: 4px;
      border-left: 3px solid var(--primary-color);
    }

    .param-name {
      font-family: 'Monaco', 'Consolas', monospace;
      font-weight: bold;
      color: var(--primary-color);
    }

    .param-type {
      font-family: 'Monaco', 'Consolas', monospace;
      color: var(--text-light);
      font-size: 0.9em;
    }

    .example {
      background: var(--text-dark);
      color: #e2e8f0;
      padding: 1.5rem;
      border-radius: 8px;
      margin: 1rem 0;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.9rem;
      overflow-x: auto;
    }

    .returns {
      background: #e8f5e8;
      border-left: 4px solid #4caf50;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }

    .note {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }

    .deprecated {
      background: #ffebee;
      border-left: 4px solid #f44336;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }

    .tag {
      display: inline-block;
      background: var(--primary-color);
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 12px;
      font-size: 0.8rem;
      margin: 0.2rem;
    }

    .tag.required { background: #f44336; }
    .tag.optional { background: #ff9800; }
    .tag.deprecated { background: #9e9e9e; }

    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }
      
      .sidebar.open {
        transform: translateX(0);
      }
      
      .main-content {
        margin-left: 0;
      }
      
      .mobile-menu {
        display: block;
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 1rem;
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 101;
        border-radius: 4px;
      }
    }

    .mobile-menu {
      display: none;
    }
  </style>
</head>
<body>
  <button class="mobile-menu" onclick="toggleSidebar()">☰ Menu</button>

  <aside class="sidebar" id="sidebar">
    <h3>Core API</h3>
    <ul>
      <li><a href="#render">MinimaJS.render()</a></li>
      <li><a href="#defineComponent">MinimaJS.defineComponent()</a></li>
      <li><a href="#createElement">MinimaJS.createElement()</a></li>
      <li><a href="#createFragment">MinimaJS.createFragment()</a></li>
      <li><a href="#memo">MinimaJS.memo()</a></li>
      <li><a href="#createState">MinimaJS.createState()</a></li>
    </ul>

    <h3>State Management</h3>
    <ul>
      <li><a href="#store">MinimaJS.store()</a></li>
      <li><a href="#onGlobalStateChange">MinimaJS.onGlobalStateChange()</a></li>
      <li><a href="#batchUpdates">MinimaJS.batchUpdates()</a></li>
    </ul>

    <h3>Router API</h3>
    <ul>
      <li><a href="#router-init">router.init()</a></li>
      <li><a href="#router-navigate">router.navigate()</a></li>
      <li><a href="#router-getCurrentRoute">router.getCurrentRoute()</a></li>
      <li><a href="#router-beforeEach">router.beforeEach()</a></li>
      <li><a href="#router-afterEach">router.afterEach()</a></li>
    </ul>

    <h3>Component Lifecycle</h3>
    <ul>
      <li><a href="#lifecycle-onInit">onInit()</a></li>
      <li><a href="#lifecycle-onUpdate">onUpdate()</a></li>
      <li><a href="#lifecycle-onDestroy">onDestroy()</a></li>
      <li><a href="#lifecycle-shouldUpdate">shouldUpdate()</a></li>
      <li><a href="#lifecycle-destroy">destroy()</a></li>
      <li><a href="#lifecycle-addEventListener">addEventListener()</a></li>
    </ul>

    <h3>Development API</h3>
    <ul>
      <li><a href="#dev-listComponents">dev.listComponents()</a></li>
      <li><a href="#dev-getPerformanceStats">dev.getPerformanceStats()</a></li>
      <li><a href="#dev-inspectStore">dev.inspectStore()</a></li>
      <li><a href="#dev-validateData">dev.validateData()</a></li>
    </ul>

    <h3>Component Lifecycle</h3>
    <ul>
      <li><a href="#onInit">this.onInit</a></li>
      <li><a href="#onUpdate">this.onUpdate</a></li>
      <li><a href="#state">this.state</a></li>
    </ul>

    <h3>Type Schemas</h3>
    <ul>
      <li><a href="#type-schema">Schema Format</a></li>
      <li><a href="#type-validation">Validation Rules</a></li>
    </ul>
  </aside>

  <div class="main-content">
    <div class="header">
      <div class="container">
        <div class="breadcrumb">
          <a href="index.html">📚 Documentation</a> / API Reference
        </div>
        <h1>API Reference</h1>
        <p>Complete reference for all MinimaJS methods and properties</p>
      </div>
    </div>

    <div class="container">
      <h2 id="core-api">Core API</h2>

      <div class="method" id="render">
        <h3>MinimaJS.render()</h3>
        <p>Renders a component instance into a DOM container element.</p>
        
        <div class="signature">
MinimaJS.render(component, container)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">component</span> <span class="param-type">(Function|Object)</span> <span class="tag required">required</span>
            <br>Component function or component instance to render
          </div>
          <div class="param">
            <span class="param-name">container</span> <span class="param-type">(Element)</span> <span class="tag required">required</span>
            <br>DOM element to render the component into
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> void
        </div>

        <div class="example">
// Render a component
const MyComponent = MinimaJS.defineComponent(function() {
  return `&lt;div&gt;Hello World&lt;/div&gt;`;
});

MinimaJS.render(MyComponent, document.getElementById('app'));

// Render with props
const componentInstance = MyComponent({ title: 'Hello' });
MinimaJS.render(componentInstance, document.getElementById('app'));
        </div>
      </div>

      <div class="method" id="defineComponent">
        <h3>MinimaJS.defineComponent()</h3>
        <p>Creates a new component with automatic state management and lifecycle hooks.</p>
        
        <div class="signature">
MinimaJS.defineComponent(componentFunction)
MinimaJS.defineComponent(schema, componentFunction)  // Dev mode only
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">componentFunction</span> <span class="param-type">(Function)</span> <span class="tag required">required</span>
            <br>Function that returns a template string. Receives props as first argument.
          </div>
          <div class="param">
            <span class="param-name">schema</span> <span class="param-type">(Object)</span> <span class="tag optional">optional</span>
            <br>Type schema for props validation (development mode only)
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Function) Enhanced component wrapper function
        </div>

        <div class="example">
// Basic component
const MyComponent = MinimaJS.defineComponent(function(props) {
  this.state = MinimaJS.createState({ count: 0 });
  
  const increment = () => this.state.count++;
  
  return `
    &lt;div&gt;
      &lt;h2&gt;${props.title}&lt;/h2&gt;
      &lt;p&gt;Count: ${this.state.count}&lt;/p&gt;
      &lt;button onclick="increment()"&gt;Click&lt;/button&gt;
    &lt;/div&gt;
  `;
});

// Component with type schema (dev mode)
const TypedComponent = MinimaJS.defineComponent({
  props: {
    title: String,
    count: Number,
    isActive: Boolean
  }
}, function(props) {
  return `&lt;div&gt;${props.title}: ${props.count}&lt;/div&gt;`;
});
        </div>

        <div class="note">
          <strong>Note:</strong> The component function receives a <code>props</code> object and has access to <code>this.state</code>, <code>this.onInit</code>, and <code>this.onUpdate</code>.
        </div>
      </div>

      <div class="method" id="createElement">
        <h3>MinimaJS.createElement()</h3>
        <p>Creates a virtual DOM node (VNode) object.</p>
        
        <div class="signature">
MinimaJS.createElement(tag, props, children)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">tag</span> <span class="param-type">(String)</span> <span class="tag required">required</span>
            <br>HTML tag name (e.g., 'div', 'span', 'button')
          </div>
          <div class="param">
            <span class="param-name">props</span> <span class="param-type">(Object)</span> <span class="tag optional">optional</span>
            <br>Element attributes and event handlers
          </div>
          <div class="param">
            <span class="param-name">children</span> <span class="param-type">(Array)</span> <span class="tag optional">optional</span>
            <br>Array of child VNodes or text strings
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Object) VNode object with tag, props, children, and internal properties
        </div>

        <div class="example">
// Create a simple VNode
const vnode = MinimaJS.createElement('div', 
  { id: 'my-div', className: 'container' }, 
  ['Hello World']
);

// With event handlers
const buttonVNode = MinimaJS.createElement('button',
  { onclick: () => console.log('clicked') },
  ['Click me']
);

// Nested elements
const complexVNode = MinimaJS.createElement('div', {}, [
  MinimaJS.createElement('h1', {}, ['Title']),
  MinimaJS.createElement('p', {}, ['Content'])
]);
        </div>
      </div>

      <div class="method" id="createState">
        <h3>MinimaJS.createState()</h3>
        <p>Creates a reactive state object using JavaScript Proxy with support for computed properties and automatic dependency tracking.</p>
        
        <div class="signature">
MinimaJS.createState(initialState, computed)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">initialState</span> <span class="param-type">(Object)</span> <span class="tag optional">optional</span>
            <br>Initial state values (defaults to empty object)
          </div>
          <div class="param">
            <span class="param-name">computed</span> <span class="param-type">(Object)</span> <span class="tag optional">optional</span>
            <br>Computed properties that automatically update when dependencies change
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Proxy) Reactive state object with _subscribe method
        </div>

        <div class="example">
// Create reactive state with computed properties
const state = MinimaJS.createState({
  count: 0,
  name: 'John',
  items: []
}, {
  // Computed properties automatically update when dependencies change
  doubleCount: function(state) {
    return state.count * 2;
  },
  itemCount: function(state) {
    return state.items.length;
  },
  displayName: function(state) {
    return `Hello, ${state.name}!`;
  }
});

// State changes trigger computed property updates and re-renders
state.count = 5; // doubleCount automatically becomes 10
state.items.push('new item'); // itemCount automatically becomes 1

// Access computed properties like normal properties
console.log(state.doubleCount); // 10
console.log(state.itemCount); // 1

// Add computed properties at runtime
state._addComputed('summary', function(state) {
  return `${state.name} has ${state.itemCount} items`;
});

// Subscribe to state changes manually
const unsubscribe = state._subscribe((key, newValue, oldValue) => {
  console.log(`${key} changed from ${oldValue} to ${newValue}`);
});

// Later: stop listening
unsubscribe();
        </div>

        <div class="note">
          <strong>Note:</strong> State objects automatically trigger component re-renders when properties change. The _subscribe method is for advanced use cases.
        </div>
      </div>

      <h2 id="state-management">State Management</h2>

      <div class="method" id="store">
        <h3>MinimaJS.store()</h3>
        <p>Creates or retrieves a global state store for sharing data across components.</p>
        
        <div class="signature">
MinimaJS.store(name, initialState)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">name</span> <span class="param-type">(String)</span> <span class="tag required">required</span>
            <br>Unique name for the store
          </div>
          <div class="param">
            <span class="param-name">initialState</span> <span class="param-type">(Object)</span> <span class="tag optional">optional</span>
            <br>Initial state (only used when creating new store)
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Proxy) Global store object
        </div>

        <div class="example">
// Create a global store
const userStore = MinimaJS.store('user', {
  name: 'Anonymous',
  email: null,
  preferences: { theme: 'light' }
});

// Access from any component
userStore.name = 'John Doe';
userStore.preferences.theme = 'dark';

// Retrieve existing store (returns same instance)
const sameStore = MinimaJS.store('user');
console.log(sameStore === userStore); // true
        </div>
      </div>

      <div class="method" id="onGlobalStateChange">
        <h3>MinimaJS.onGlobalStateChange()</h3>
        <p>Subscribe to changes in a global state store.</p>
        
        <div class="signature">
MinimaJS.onGlobalStateChange(storeName, key, callback)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">storeName</span> <span class="param-type">(String)</span> <span class="tag required">required</span>
            <br>Name of the store to watch
          </div>
          <div class="param">
            <span class="param-name">key</span> <span class="param-type">(String)</span> <span class="tag required">required</span>
            <br>Specific property to watch for changes
          </div>
          <div class="param">
            <span class="param-name">callback</span> <span class="param-type">(Function)</span> <span class="tag required">required</span>
            <br>Function called when the value changes (newValue, oldValue) => void
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Function) Unsubscribe function
        </div>

        <div class="example">
// Subscribe to user name changes
const unsubscribe = MinimaJS.onGlobalStateChange('user', 'name', (newName, oldName) => {
  console.log(`User name changed from ${oldName} to ${newName}`);
});

// Use in component lifecycle
const MyComponent = MinimaJS.defineComponent(function(props) {
  this.onInit = function() {
    this._unsubscribe = MinimaJS.onGlobalStateChange('user', 'theme', () => {
      // Component will re-render automatically
    });
  };
  
  // Clean up subscription (good practice)
  this.onDestroy = function() {
    if (this._unsubscribe) {
      this._unsubscribe();
    }
  };
  
  return `&lt;div&gt;Component content&lt;/div&gt;`;
});
        </div>
      </div>

      <h2 id="router-api">Router API</h2>

      <div class="method" id="router-init">
        <h3>MinimaJS.router.init()</h3>
        <p>Initialize the router with route configuration and container element.</p>
        
        <div class="signature">
MinimaJS.router.init(routes, container)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">routes</span> <span class="param-type">(Array)</span> <span class="tag required">required</span>
            <br>Array of route objects with path and component properties
          </div>
          <div class="param">
            <span class="param-name">container</span> <span class="param-type">(Element)</span> <span class="tag optional">optional</span>
            <br>DOM element to render routes into (defaults to document.body)
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> void
        </div>

        <div class="example">
const routes = [
  { path: '/', component: HomePage },
  { path: '/about', component: AboutPage },
  { path: '/users/:id', component: UserPage },
  { path: '/posts/:category/:slug', component: PostPage }
];

MinimaJS.router.init(routes, document.getElementById('app'));

// Route components receive parameters as props
const UserPage = MinimaJS.defineComponent(function(props) {
  const userId = props.id; // From :id parameter
  return `&lt;h1&gt;User Profile: ${userId}&lt;/h1&gt;`;
});
        </div>
      </div>

      <div class="method" id="router-navigate">
        <h3>MinimaJS.router.navigate()</h3>
        <p>Programmatically navigate to a new route.</p>
        
        <div class="signature">
MinimaJS.router.navigate(path)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">path</span> <span class="param-type">(String)</span> <span class="tag required">required</span>
            <br>URL path to navigate to
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> void
        </div>

        <div class="example">
// Navigate to different routes
MinimaJS.router.navigate('/');
MinimaJS.router.navigate('/users/123');
MinimaJS.router.navigate('/posts/tech/getting-started');

// Use in component event handlers
const NavButton = MinimaJS.defineComponent(function(props) {
  const handleClick = () => {
    MinimaJS.router.navigate(props.path);
  };
  
  return `&lt;button onclick="handleClick()"&gt;${props.label}&lt;/button&gt;`;
});
        </div>
      </div>

      <div class="method" id="router-getCurrentRoute">
        <h3>MinimaJS.router.getCurrentRoute()</h3>
        <p>Get information about the current route including parameters.</p>
        
        <div class="signature">
MinimaJS.router.getCurrentRoute()
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <p>None</p>
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Object|null) Current route object with path, component, params, and actualPath
        </div>

        <div class="example">
// Get current route info
const currentRoute = MinimaJS.router.getCurrentRoute();

if (currentRoute) {
  console.log('Current path:', currentRoute.path);          // '/users/:id'
  console.log('Actual path:', currentRoute.actualPath);     // '/users/123'
  console.log('Parameters:', currentRoute.params);          // { id: '123' }
  console.log('Component:', currentRoute.component);        // UserPage function
}

// Use in components
const Breadcrumb = MinimaJS.defineComponent(function(props) {
  const route = MinimaJS.router.getCurrentRoute();
  
  return `
    &lt;nav&gt;
      &lt;span&gt;Current page: ${route ? route.actualPath : 'Unknown'}&lt;/span&gt;
    &lt;/nav&gt;
  `;
});
        </div>
      </div>

      <h2 id="development-api">Development API</h2>
      <p>These methods are only available when <code>minima.dev.js</code> is loaded.</p>

      <div class="method" id="dev-listComponents">
        <h3>MinimaJS.dev.listComponents()</h3>
        <p>Get a list of all registered component names.</p>
        
        <div class="signature">
MinimaJS.dev.listComponents()
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Array) Array of component name strings
        </div>

        <div class="example">
// List all registered components
const components = MinimaJS.dev.listComponents();
console.log('Registered components:', components);
// Output: ['MyComponent', 'UserProfile', 'TodoList', ...]
        </div>
      </div>

      <div class="method" id="dev-getPerformanceStats">
        <h3>MinimaJS.dev.getPerformanceStats()</h3>
        <p>Get performance statistics for render operations.</p>
        
        <div class="signature">
MinimaJS.dev.getPerformanceStats()
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Object) Performance statistics object
        </div>

        <div class="example">
// Get performance stats
const stats = MinimaJS.dev.getPerformanceStats();
console.log(stats);

// Example output:
// {
//   totalRenders: 45,
//   averageRenderTime: "2.34ms",
//   maxRenderTime: "8.12ms",
//   minRenderTime: "0.89ms",
//   recentRenders: [1.2, 2.1, 1.8, ...]
// }
        </div>
      </div>

      <div class="method" id="dev-inspectStore">
        <h3>MinimaJS.dev.inspectStore()</h3>
        <p>Inspect global stores for debugging.</p>
        
        <div class="signature">
MinimaJS.dev.inspectStore(storeName)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">storeName</span> <span class="param-type">(String)</span> <span class="tag optional">optional</span>
            <br>Name of specific store to inspect (omit to list all stores)
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> (Object|Array) Store data or array of store names
        </div>

        <div class="example">
// List all stores
const storeNames = MinimaJS.dev.inspectStore();
console.log('Available stores:', storeNames);

// Inspect specific store
const userStoreData = MinimaJS.dev.inspectStore('user');
console.log('User store data:', userStoreData);
// Output: { name: 'user', data: { name: 'John', email: '...' } }
        </div>
      </div>

      <div class="method" id="dev-validateData">
        <h3>MinimaJS.dev.validateData()</h3>
        <p>Manually validate data against a type schema.</p>
        
        <div class="signature">
MinimaJS.dev.validateData(data, schema, path)
        </div>

        <div class="parameters">
          <h5>Parameters:</h5>
          <div class="param">
            <span class="param-name">data</span> <span class="param-type">(Any)</span> <span class="tag required">required</span>
            <br>Data to validate
          </div>
          <div class="param">
            <span class="param-name">schema</span> <span class="param-type">(Object)</span> <span class="tag required">required</span>
            <br>Type schema object
          </div>
          <div class="param">
            <span class="param-name">path</span> <span class="param-type">(String)</span> <span class="tag optional">optional</span>
            <br>Path prefix for error messages
          </div>
        </div>

        <div class="returns">
          <strong>Returns:</strong> void (throws Error if validation fails)
        </div>

        <div class="example">
// Define schema
const userSchema = {
  name: String,
  age: Number,
  email: String,
  address: {
    street: String,
    city: String
  }
};

// Validate data
try {
  MinimaJS.dev.validateData({
    name: 'John',
    age: 25,
    email: 'john@example.com',
    address: {
      street: '123 Main St',
      city: 'Anytown'
    }
  }, userSchema);
  
  console.log('Validation passed!');
} catch (error) {
  console.error('Validation failed:', error.message);
}
        </div>
      </div>

      <h2 id="component-lifecycle">Component Lifecycle</h2>

      <div class="method" id="onInit">
        <h3>this.onInit</h3>
        <p>Lifecycle hook called once when component is first mounted to the DOM.</p>
        
        <div class="signature">
this.onInit = function() { ... }
        </div>

        <div class="example">
const MyComponent = MinimaJS.defineComponent(function(props) {
  this.state = MinimaJS.createState({ data: null });
  
  this.onInit = function() {
    console.log('Component mounted!');
    
    // Fetch initial data
    fetch('/api/data')
      .then(response => response.json())
      .then(data => {
        this.state.data = data;
      });
  };
  
  return `&lt;div&gt;Data: ${this.state.data || 'Loading...'}&lt;/div&gt;`;
});
        </div>
      </div>

      <div class="method" id="onUpdate">
        <h3>this.onUpdate</h3>
        <p>Lifecycle hook called whenever component re-renders due to state or prop changes.</p>
        
        <div class="signature">
this.onUpdate = function() { ... }
        </div>

        <div class="example">
const MyComponent = MinimaJS.defineComponent(function(props) {
  this.state = MinimaJS.createState({ count: 0 });
  
  this.onUpdate = function() {
    console.log('Component updated! New count:', this.state.count);
    
    // Update document title
    document.title = `Count: ${this.state.count}`;
  };
  
  const increment = () => this.state.count++;
  
  return `
    &lt;div&gt;
      &lt;p&gt;Count: ${this.state.count}&lt;/p&gt;
      &lt;button onclick="increment()"&gt;+&lt;/button&gt;
    &lt;/div&gt;
  `;
});
        </div>
      </div>

      <div class="method" id="state">
        <h3>this.state</h3>
        <p>Reactive state object for the component. Changes automatically trigger re-renders.</p>
        
        <div class="signature">
this.state = MinimaJS.createState(initialState)
        </div>

        <div class="example">
const MyComponent = MinimaJS.defineComponent(function(props) {
  // Initialize component state
  this.state = MinimaJS.createState({
    count: 0,
    name: '',
    items: [],
    isVisible: true
  });
  
  // Modify state to trigger re-renders
  const updateState = () => {
    this.state.count++;
    this.state.name = 'Updated';
    this.state.items.push(`Item ${this.state.count}`);
  };
  
  return `
    &lt;div&gt;
      &lt;p&gt;Count: ${this.state.count}&lt;/p&gt;
      &lt;p&gt;Name: ${this.state.name}&lt;/p&gt;
      &lt;p&gt;Items: ${this.state.items.length}&lt;/p&gt;
      &lt;button onclick="updateState()"&gt;Update&lt;/button&gt;
    &lt;/div&gt;
  `;
});
        </div>
      </div>

      <h2 id="type-schemas">Type Schemas</h2>

      <div class="method" id="type-schema">
        <h3>Schema Format</h3>
        <p>Type schemas define the expected structure and types for component props and state.</p>

        <div class="example">
// Basic types
const basicSchema = {
  name: String,
  age: Number,
  isActive: Boolean,
  items: Array,
  meta: Object,
  callback: Function
};

// Nested objects
const nestedSchema = {
  user: {
    id: Number,
    profile: {
      name: String,
      email: String,
      preferences: {
        theme: String,
        notifications: Boolean
      }
    }
  }
};

// Component with schema
const TypedComponent = MinimaJS.defineComponent({
  props: {
    title: String,
    data: {
      id: Number,
      items: Array
    }
  },
  state: {
    loading: Boolean,
    error: String
  }
}, function(props) {
  // Props and state are validated automatically
  return `&lt;div&gt;${props.title}&lt;/div&gt;`;
});
        </div>
      </div>

      <div class="method" id="type-validation">
        <h3>Validation Rules</h3>
        <p>Supported types and validation behavior in development mode.</p>

        <div class="parameters">
          <h5>Supported Types:</h5>
          <div class="param">
            <span class="param-name">String</span> - Validates typeof value === 'string'
          </div>
          <div class="param">
            <span class="param-name">Number</span> - Validates typeof value === 'number' && !isNaN(value)
          </div>
          <div class="param">
            <span class="param-name">Boolean</span> - Validates typeof value === 'boolean'
          </div>
          <div class="param">
            <span class="param-name">Array</span> - Validates Array.isArray(value)
          </div>
          <div class="param">
            <span class="param-name">Object</span> - Validates typeof value === 'object' && value !== null && !Array.isArray(value)
          </div>
          <div class="param">
            <span class="param-name">Function</span> - Validates typeof value === 'function'
          </div>
        </div>

        <div class="note">
          <strong>Development Only:</strong> Type validation only occurs when <code>minima.dev.js</code> is loaded. In production, schemas are ignored for performance.
        </div>

        <div class="example">
// Validation examples
const validData = {
  name: 'John',        // ✅ String
  age: 25,             // ✅ Number
  isActive: true,      // ✅ Boolean
  items: [1, 2, 3],    // ✅ Array
  meta: { key: 'val' }, // ✅ Object
  callback: () => {}   // ✅ Function
};

const invalidData = {
  name: 123,           // ❌ Expected String, got Number
  age: 'twenty-five',  // ❌ Expected Number, got String
  isActive: 'yes',     // ❌ Expected Boolean, got String
  items: 'not array',  // ❌ Expected Array, got String
  meta: null,          // ❌ Expected Object, got null
  callback: 'string'   // ❌ Expected Function, got String
};
        </div>
      </div>
    </div>
  </div>

  <script>
    // Sidebar navigation
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('open');
    }

    // Smooth scrolling and active link highlighting
    document.addEventListener('DOMContentLoaded', function() {
      const links = document.querySelectorAll('.sidebar a[href^="#"]');
      
      links.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            
            // Update active link
            links.forEach(l => l.classList.remove('active'));
            this.classList.add('active');
            
            // Close mobile sidebar
            if (window.innerWidth <= 768) {
              document.getElementById('sidebar').classList.remove('open');
            }
          }
        });
      });

      // Highlight current section on scroll
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.id;
            const activeLink = document.querySelector(`.sidebar a[href="#${id}"]`);
            if (activeLink) {
              links.forEach(l => l.classList.remove('active'));
              activeLink.classList.add('active');
            }
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50% 0px'
      });

      // Observe all sections
      document.querySelectorAll('[id]').forEach(section => {
        observer.observe(section);
      });
    });
  </script>
</body>
</html>
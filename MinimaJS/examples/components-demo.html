<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MinimaJS - Component Showcase</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
      color: #333;
      background: #f8f9fa;
    }
    
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 12px;
    }
    
    .logo {
      font-size: 3em;
      font-weight: bold;
      margin-bottom: 10px;
    }
    
    .subtitle {
      font-size: 1.2em;
      opacity: 0.9;
    }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    
    .demo-card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border: 1px solid #e9ecef;
    }
    
    .demo-card h3 {
      color: #495057;
      margin-bottom: 15px;
      font-size: 1.3em;
      border-bottom: 2px solid #667eea;
      padding-bottom: 10px;
    }
    
    .demo-content {
      margin: 20px 0;
    }
    
    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 14px;
      overflow-x: auto;
    }
    
    button {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px;
      transition: all 0.3s ease;
    }
    
    button:hover {
      background: #5a6fd8;
      transform: translateY(-1px);
    }
    
    button.secondary {
      background: #6c757d;
    }
    
    button.danger {
      background: #dc3545;
    }
    
    button.success {
      background: #28a745;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
      margin: 5px 0;
      box-sizing: border-box;
    }
    
    .counter-display {
      font-size: 2em;
      font-weight: bold;
      color: #667eea;
      text-align: center;
      margin: 15px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    
    .list-item {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 6px;
      padding: 12px;
      margin: 8px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .progress-bar {
      width: 100%;
      height: 20px;
      background: #e9ecef;
      border-radius: 10px;
      overflow: hidden;
      margin: 10px 0;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(45deg, #667eea, #764ba2);
      transition: width 0.3s ease;
    }
    
    .color-picker {
      display: flex;
      gap: 10px;
      margin: 10px 0;
    }
    
    .color-option {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.3s ease;
    }
    
    .color-option.selected {
      border-color: #333;
      transform: scale(1.1);
    }
    
    .tab-nav {
      display: flex;
      border-bottom: 1px solid #e9ecef;
      margin-bottom: 20px;
    }
    
    .tab-button {
      background: none;
      border: none;
      padding: 12px 20px;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      color: #666;
    }
    
    .tab-button.active {
      color: #667eea;
      border-bottom-color: #667eea;
    }
    
    .tab-content {
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
    }
    
    .notification {
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
      border-left: 4px solid;
    }
    
    .notification.success {
      background: #d4edda;
      border-color: #28a745;
      color: #155724;
    }
    
    .notification.error {
      background: #f8d7da;
      border-color: #dc3545;
      color: #721c24;
    }
    
    .notification.info {
      background: #d1ecf1;
      border-color: #17a2b8;
      color: #0c5460;
    }
    
    .timer-display {
      font-size: 2.5em;
      font-family: 'Monaco', 'Consolas', monospace;
      text-align: center;
      margin: 20px 0;
      padding: 30px;
      background: #f8f9fa;
      border-radius: 12px;
      border: 2px solid #e9ecef;
    }
    
    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
      }
      
      .header {
        padding: 20px;
      }
      
      .logo {
        font-size: 2em;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="logo">üß© Component Showcase</div>
    <div class="subtitle">Explore all MinimaJS component patterns and features</div>
  </div>

  <div id="app">
    <p>Loading component showcase...</p>
  </div>

  <!-- Load MinimaJS Framework -->
  <script src="../src/minima.js"></script>
  <script src="../src/minima.dev.js"></script>

  <script>
    // =========================================================================
    // BASIC COUNTER COMPONENT
    // =========================================================================
    
    const BasicCounter = MinimaJS.defineComponent(function(props) {
      if (!this.state.count) {
        this.state.count = props.initialCount || 0;
      }
      
      const increment = () => this.state.count++;
      const decrement = () => this.state.count--;
      const reset = () => this.state.count = 0;
      
      return `
        <div class="demo-card">
          <h3>üî¢ Basic Counter</h3>
          <div class="demo-content">
            <div class="counter-display">${this.state.count}</div>
            <button onclick="increment()">‚ûï Increment</button>
            <button onclick="decrement()">‚ûñ Decrement</button>
            <button onclick="reset()" class="secondary">üîÑ Reset</button>
          </div>
          <div class="code-block">
state: { count: ${this.state.count} }
events: increment, decrement, reset
          </div>
        </div>
      `;
    });

    // =========================================================================
    // INPUT FORM COMPONENT
    // =========================================================================
    
    const InputForm = MinimaJS.defineComponent(function(props) {
      if (!this.state.formData) {
        this.state.formData = {
          name: '',
          email: '',
          message: '',
          color: '#667eea'
        };
        this.state.submitted = false;
      }
      
      const updateField = (field, value) => {
        this.state.formData = {
          ...this.state.formData,
          [field]: value
        };
      };
      
      const submitForm = () => {
        this.state.submitted = true;
        setTimeout(() => {
          this.state.submitted = false;
        }, 3000);
      };
      
      const clearForm = () => {
        this.state.formData = {
          name: '',
          email: '',
          message: '',
          color: '#667eea'
        };
        this.state.submitted = false;
      };
      
      return `
        <div class="demo-card">
          <h3>üìù Form Input</h3>
          <div class="demo-content">
            <input 
              type="text" 
              placeholder="Your name"
              value="${this.state.formData.name}"
              oninput="updateField('name', this.value)"
            />
            <input 
              type="email" 
              placeholder="your@email.com"
              value="${this.state.formData.email}"
              oninput="updateField('email', this.value)"
            />
            <textarea 
              placeholder="Your message..."
              rows="3"
              oninput="updateField('message', this.value)"
            >${this.state.formData.message}</textarea>
            <input 
              type="color" 
              value="${this.state.formData.color}"
              onchange="updateField('color', this.value)"
            />
            <div style="margin: 15px 0;">
              <button onclick="submitForm()" class="success">üì§ Submit</button>
              <button onclick="clearForm()" class="secondary">üóëÔ∏è Clear</button>
            </div>
            ${this.state.submitted ? `
              <div class="notification success">
                ‚úÖ Form submitted successfully!
              </div>
            ` : ''}
          </div>
          <div class="code-block">
name: "${this.state.formData.name}"
email: "${this.state.formData.email}"
color: "${this.state.formData.color}"
submitted: ${this.state.submitted}
          </div>
        </div>
      `;
    });

    // =========================================================================
    // DYNAMIC LIST COMPONENT
    // =========================================================================
    
    const DynamicList = MinimaJS.defineComponent(function(props) {
      if (!this.state.items) {
        this.state.items = [
          { id: 1, text: 'Apple', category: 'fruit' },
          { id: 2, text: 'Carrot', category: 'vegetable' },
          { id: 3, text: 'Banana', category: 'fruit' }
        ];
        this.state.newItem = '';
        this.state.filter = 'all';
        this.state.nextId = 4;
      }
      
      const addItem = () => {
        if (this.state.newItem.trim()) {
          this.state.items = [
            ...this.state.items,
            {
              id: this.state.nextId++,
              text: this.state.newItem.trim(),
              category: Math.random() > 0.5 ? 'fruit' : 'vegetable'
            }
          ];
          this.state.newItem = '';
        }
      };
      
      const removeItem = (id) => {
        this.state.items = this.state.items.filter(item => item.id !== id);
      };
      
      const setFilter = (filter) => {
        this.state.filter = filter;
      };
      
      const filteredItems = this.state.filter === 'all' 
        ? this.state.items 
        : this.state.items.filter(item => item.category === this.state.filter);
      
      const itemsHtml = filteredItems.map(item => `
        <div class="list-item">
          <span>${item.text} (${item.category})</span>
          <button onclick="removeItem(${item.id})" class="danger">‚ùå</button>
        </div>
      `).join('');
      
      return `
        <div class="demo-card">
          <h3>üìã Dynamic List</h3>
          <div class="demo-content">
            <input 
              type="text" 
              placeholder="Add new item..."
              value="${this.state.newItem}"
              oninput="this.state.newItem = this.value"
              onkeypress="if(event.key==='Enter') addItem()"
            />
            <button onclick="addItem()">‚ûï Add</button>
            
            <div style="margin: 15px 0;">
              <button 
                onclick="setFilter('all')"
                ${this.state.filter === 'all' ? '' : 'class="secondary"'}
              >
                All (${this.state.items.length})
              </button>
              <button 
                onclick="setFilter('fruit')"
                ${this.state.filter === 'fruit' ? '' : 'class="secondary"'}
              >
                Fruits (${this.state.items.filter(i => i.category === 'fruit').length})
              </button>
              <button 
                onclick="setFilter('vegetable')"
                ${this.state.filter === 'vegetable' ? '' : 'class="secondary"'}
              >
                Vegetables (${this.state.items.filter(i => i.category === 'vegetable').length})
              </button>
            </div>
            
            ${itemsHtml || '<p><em>No items to display</em></p>'}
          </div>
          <div class="code-block">
items: ${this.state.items.length} total
filter: "${this.state.filter}"
showing: ${filteredItems.length} items
          </div>
        </div>
      `;
    });

    // =========================================================================
    // PROGRESS TRACKER COMPONENT
    // =========================================================================
    
    const ProgressTracker = MinimaJS.defineComponent(function(props) {
      if (!this.state.progress) {
        this.state.progress = 0;
        this.state.isRunning = false;
        this.state.intervalId = null;
      }
      
      const startProgress = () => {
        if (this.state.isRunning) return;
        
        this.state.isRunning = true;
        this.state.intervalId = setInterval(() => {
          if (this.state.progress >= 100) {
            this.state.isRunning = false;
            clearInterval(this.state.intervalId);
            return;
          }
          this.state.progress = Math.min(100, this.state.progress + Math.random() * 10);
        }, 300);
      };
      
      const stopProgress = () => {
        this.state.isRunning = false;
        if (this.state.intervalId) {
          clearInterval(this.state.intervalId);
        }
      };
      
      const resetProgress = () => {
        stopProgress();
        this.state.progress = 0;
      };
      
      return `
        <div class="demo-card">
          <h3>üìä Progress Tracker</h3>
          <div class="demo-content">
            <div class="progress-bar">
              <div 
                class="progress-fill" 
                style="width: ${this.state.progress}%"
              ></div>
            </div>
            <div style="text-align: center; margin: 15px 0;">
              <strong>${Math.round(this.state.progress)}%</strong>
            </div>
            <button 
              onclick="startProgress()" 
              ${this.state.isRunning ? 'disabled' : ''}
              class="success"
            >
              ‚ñ∂Ô∏è Start
            </button>
            <button onclick="stopProgress()" class="danger">‚èπÔ∏è Stop</button>
            <button onclick="resetProgress()" class="secondary">üîÑ Reset</button>
          </div>
          <div class="code-block">
progress: ${Math.round(this.state.progress)}%
running: ${this.state.isRunning}
status: ${this.state.progress >= 100 ? 'complete' : 'in-progress'}
          </div>
        </div>
      `;
    });

    // =========================================================================
    // TAB SYSTEM COMPONENT
    // =========================================================================
    
    const TabSystem = MinimaJS.defineComponent(function(props) {
      if (!this.state.activeTab) {
        this.state.activeTab = 'tab1';
      }
      
      const setActiveTab = (tab) => {
        this.state.activeTab = tab;
      };
      
      const tabs = [
        { id: 'tab1', title: 'üè† Home', content: 'Welcome to the home tab! This demonstrates tab switching functionality.' },
        { id: 'tab2', title: 'üìä Analytics', content: 'Analytics data would go here. Tabs help organize content efficiently.' },
        { id: 'tab3', title: '‚öôÔ∏è Settings', content: 'Settings and configuration options. Each tab maintains its own content.' },
        { id: 'tab4', title: '‚ùì Help', content: 'Help documentation and support resources. Tabs improve user experience.' }
      ];
      
      const activeTabData = tabs.find(tab => tab.id === this.state.activeTab);
      
      const tabNavHtml = tabs.map(tab => `
        <button 
          class="tab-button ${this.state.activeTab === tab.id ? 'active' : ''}"
          onclick="setActiveTab('${tab.id}')"
        >
          ${tab.title}
        </button>
      `).join('');
      
      return `
        <div class="demo-card">
          <h3>üìë Tab System</h3>
          <div class="demo-content">
            <div class="tab-nav">
              ${tabNavHtml}
            </div>
            <div class="tab-content">
              <h4>${activeTabData.title}</h4>
              <p>${activeTabData.content}</p>
            </div>
          </div>
          <div class="code-block">
activeTab: "${this.state.activeTab}"
totalTabs: ${tabs.length}
          </div>
        </div>
      `;
    });

    // =========================================================================
    // TIMER COMPONENT
    // =========================================================================
    
    const Timer = MinimaJS.defineComponent(function(props) {
      if (!this.state.timer) {
        this.state.timer = {
          seconds: 0,
          isRunning: false,
          intervalId: null
        };
      }
      
      const startTimer = () => {
        if (this.state.timer.isRunning) return;
        
        this.state.timer = {
          ...this.state.timer,
          isRunning: true,
          intervalId: setInterval(() => {
            this.state.timer = {
              ...this.state.timer,
              seconds: this.state.timer.seconds + 1
            };
          }, 1000)
        };
      };
      
      const stopTimer = () => {
        if (this.state.timer.intervalId) {
          clearInterval(this.state.timer.intervalId);
        }
        this.state.timer = {
          ...this.state.timer,
          isRunning: false,
          intervalId: null
        };
      };
      
      const resetTimer = () => {
        stopTimer();
        this.state.timer = {
          seconds: 0,
          isRunning: false,
          intervalId: null
        };
      };
      
      const formatTime = (seconds) => {
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
      };
      
      return `
        <div class="demo-card">
          <h3>‚è±Ô∏è Timer</h3>
          <div class="demo-content">
            <div class="timer-display">
              ${formatTime(this.state.timer.seconds)}
            </div>
            <button 
              onclick="startTimer()" 
              ${this.state.timer.isRunning ? 'disabled' : ''}
              class="success"
            >
              ‚ñ∂Ô∏è Start
            </button>
            <button onclick="stopTimer()" class="danger">‚è∏Ô∏è Pause</button>
            <button onclick="resetTimer()" class="secondary">üîÑ Reset</button>
          </div>
          <div class="code-block">
seconds: ${this.state.timer.seconds}
running: ${this.state.timer.isRunning}
formatted: "${formatTime(this.state.timer.seconds)}"
          </div>
        </div>
      `;
    });

    // =========================================================================
    // MAIN APP COMPONENT
    // =========================================================================
    
    const ComponentShowcase = MinimaJS.defineComponent(function(props) {
      return `
        <div>
          <div style="margin-bottom: 30px; text-align: center;">
            <h2>üéõÔ∏è Interactive Component Gallery</h2>
            <p>Each component demonstrates different MinimaJS features and patterns.</p>
          </div>
          
          <div class="grid">
            ${BasicCounter({ initialCount: 10 })._template || ''}
            ${InputForm({})._template || ''}
            ${DynamicList({})._template || ''}
            ${ProgressTracker({})._template || ''}
            ${TabSystem({})._template || ''}
            ${Timer({})._template || ''}
          </div>
          
          <div class="demo-card" style="margin-top: 30px;">
            <h3>üõ†Ô∏è Development Tools</h3>
            <div class="demo-content">
              <p>Open your browser's developer console and explore:</p>
              <div class="code-block">
// List all components
MinimaJS.dev.listComponents()

// View performance stats  
MinimaJS.dev.getPerformanceStats()

// Inspect framework internals
MinimaJS.dev.getInternalState()
              </div>
              <p><strong>Hot Reload:</strong> Edit this file and watch components update instantly!</p>
            </div>
          </div>
          
          <div class="demo-card">
            <h3>üìö More Examples</h3>
            <div class="demo-content">
              <p>Explore more MinimaJS capabilities:</p>
              <button onclick="window.location.href='index.html'">
                üè† Basic Examples
              </button>
              <button onclick="window.location.href='todo-app.html'">
                üìù Advanced Todo App
              </button>
              <button onclick="window.location.href='../src/minima.js'">
                üìñ View Source Code
              </button>
            </div>
          </div>
        </div>
      `;
    });

    // =========================================================================
    // GLOBAL FUNCTIONS FOR EVENT HANDLERS
    // =========================================================================
    
    // These functions are made global to work with inline event handlers
    window.increment = () => console.log('Global increment');
    window.decrement = () => console.log('Global decrement'); 
    window.reset = () => console.log('Global reset');
    window.updateField = (field, value) => console.log('Global updateField');
    window.submitForm = () => console.log('Global submitForm');
    window.clearForm = () => console.log('Global clearForm');
    window.addItem = () => console.log('Global addItem');
    window.removeItem = (id) => console.log('Global removeItem', id);
    window.setFilter = (filter) => console.log('Global setFilter', filter);
    window.startProgress = () => console.log('Global startProgress');
    window.stopProgress = () => console.log('Global stopProgress');
    window.resetProgress = () => console.log('Global resetProgress');
    window.setActiveTab = (tab) => console.log('Global setActiveTab', tab);
    window.startTimer = () => console.log('Global startTimer');
    window.stopTimer = () => console.log('Global stopTimer');
    window.resetTimer = () => console.log('Global resetTimer');

    // =========================================================================
    // APP INITIALIZATION
    // =========================================================================
    
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üöÄ Starting MinimaJS Component Showcase');
      
      // Render the showcase
      MinimaJS.render(ComponentShowcase, document.getElementById('app'));
      
      console.log('‚úÖ Component showcase loaded successfully');
      console.log('üéÆ Interact with the components above');
      console.log('üí° Check the developer console for more tools');
    });
  </script>
</body>
</html>